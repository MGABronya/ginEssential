(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-46c90741"],{"1a88":function(t,s,e){"use strict";e("3a50")},"3a50":function(t,s,e){},"41b0":function(t,s,e){},4751:function(t,s,e){"use strict";var i=function(){var t=this,s=t._self._c;return s("div",{staticClass:"rf pic"},[s("div",{staticClass:"hh line"}),s("div",{staticClass:"hh"}),s("div",{staticClass:"avatar"},[s("img",{attrs:{src:t.imgurl}})]),s("div",{staticClass:"bott"},[s("div",[t._v(t._s(t.user.Name))]),s("div",{staticClass:"email"},[t._v(t._s(t.user.Email))]),s("div",{staticClass:"signature"},[t._v(t._s(t.user.Hobby))])])])},a=[],r=e("365c"),n={data(){return{user:{},baseurl:"http://icon.mgaronya.com/",imgurl:""}},props:["id","userprops"],methods:{async oneUserGet(){if(void 0!==this.userprops.Name)this.user=this.userprops,this.imgurl=this.baseurl+this.user.Icon;else{let t=await Object(r["h"])(this.id);200==t.code&&(this.user=t.data.user,this.imgurl=this.baseurl+this.user.Icon)}}},created(){this.oneUserGet()}},c=n,o=(e("1a88"),e("2877")),l=Object(o["a"])(c,i,a,!1,null,"15d69124",null);s["a"]=l.exports},"4e14":function(t,s,e){"use strict";e("41b0")},8349:function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t._self._c;return s("div",{staticClass:"con"},[s("div",{staticClass:"headline"},[t._v(t._s(t.post.title))]),s("div",{staticClass:"ques"},[t._v("The Question")]),s("div",{staticClass:"sss",domProps:{innerHTML:t._s(t.post.res_long)}}),s("div",{staticClass:"ques"},[s("span",[t._v("All Answer")]),s("el-button",{attrs:{type:"primary"},on:{click:function(s){t.answerVisible=!0,t.threadFlag=!1}}},[t._v("回答")])],1),t.answerVisible?s("el-card",{staticClass:"answerCon"},[s("div",{staticClass:"firRow"},[s("span",[t._v("发布回答")]),s("i",{staticClass:"el-icon-close",on:{click:function(s){t.answerVisible=t.falsethreadFlag=!0}}})]),s("div",[s("mavon-editor",{attrs:{placeholder:t.placeholder},on:{change:t.change},model:{value:t.content,callback:function(s){t.content=s},expression:"content"}}),s("el-button",{staticClass:"sumbitBtn",attrs:{type:"primary"},on:{click:t.submitThread}},[t._v("提交")])],1)]):t._e(),t.threadFlag?s("div",t._l(t.threads,(function(e){return s("div",{key:e.id},[s("div",{directives:[{name:"highlight",rawName:"v-highlight"}],staticClass:"thre"},[s("div",{staticClass:"sss md",domProps:{innerHTML:t._s(e.res_long)}}),s("UserCard",{staticClass:"ab",attrs:{id:e.user_id,userprops:"{}"},nativeOn:{click:function(s){return t.gotoMsg(e.user_id)}}}),t.email===e.email?s("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:function(s){return t.threadDelete(t.post.id,e.id)}}},[t._v("删除跟帖")]):t._e()],1)])})),0):t._e(),s("div",{staticClass:"chengkai"})],1)},a=[],r=e("365c"),n=e("b2d8"),c=(e("64e1"),e("4751")),o=(e("c350"),{data(){return{email:"",post:{},threads:[],answerVisible:!1,content:"",threadFlag:!0,res_long:"",placeholder:"Ctrl + Alt + c 是代码块, F10开启全屏编辑模式"}},methods:{async posteGet(){let t=await Object(r["l"])(this.$route.params.id);200==t.code&&(this.post=t.data.post,this.threads=t.data.threads)},async userGet(){let t=await Object(r["n"])();this.email=t.data.user.Email},change(t,s){this.res_long=s},async submitThread(){if(this.content.length<5)return this.$message.error("内容太短了！");let t=await Object(r["a"])(this.$route.params.id,{content:this.content,res_long:this.res_long});return 200==t.code?(this.answerVisible=!1,this.threadFlag=!0,this.posteGet(),this.content="",this.res_long="",this.$message.success("跟帖成功！")):void 0},gotoMsg(t){this.$router.push({name:"usermsg",params:{id:t}})},async threadDelete(t,s){const e=await this.$confirm("此操作将永久删除该跟帖,是否继续","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch(t=>t);if("confirm"!==e)return this.$message.info("已经取消删除");let i=await Object(r["d"])(t,s);return 200===i.code?(this.content="",this.res_long="",this.posteGet(),this.$message.success("删除跟帖成功！")):void 0}},created(){this.posteGet(),this.userGet()},components:{mavonEditor:n["mavonEditor"],UserCard:c["a"]}}),l=o,d=(e("4e14"),e("2877")),u=Object(d["a"])(l,i,a,!1,null,"6279c41f",null);s["default"]=u.exports},c350:function(t,s,e){}}]);